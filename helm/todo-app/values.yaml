# Configuration for the PostgreSQL subchart
postgresql:
  enabled: true
  architecture: standalone
  auth:
    postgresPassword: "postgres_password"
    username: "todo_user"
    password: "todo_password"
    database: "todo_db"
  persistence:
    enabled: true
    size: 8Gi
    storageClass: ""
  primary:
    service:
      type: ClusterIP
      ports:
        postgresql: 5432

# Configuration for the backend
backend:
  replicaCount: 1
  image:
    repository: todo-backend
    pullPolicy: IfNotPresent
    tag: final
  service:
    type: ClusterIP
    port: 8080
    targetPort: 8080
  env:
    - name: PORT
      value: "8080"
    - name: DATABASE_URL
      value: "postgresql://todo_user:todo_password@todo-app-postgresql:5432/todo_db"
    - name: JWT_SECRET_KEY
      valueFrom:
        secretKeyRef:
          name: backend-secrets
          key: jwt_secret_key
  secrets:
    jwtSecretKey: "sk_prod_jwt_1234567890abcdefghijklmnopqrstuvwxyz"

# Configuration for the frontend
frontend:
  replicaCount: 1
  image:
    repository: todo-frontend
    pullPolicy: IfNotPresent
    tag: final
  service:
    type: ClusterIP
    port: 3000
  ingress:
    enabled: false